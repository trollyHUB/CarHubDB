<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.*?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<BorderPane style="-fx-background-color: #FAFAFA;" stylesheets="@styles/main.css" xmlns="http://javafx.com/javafx/17.0.12" xmlns:fx="http://javafx.com/fxml/1" fx:controller="controllers.CarHubController">

    <top>
        <!-- Ð“Ñ€Ð°Ð´Ð¸ÐµÐ½Ñ‚Ð½Ñ‹Ð¹ Ñ…ÐµÐ´ÐµÑ€ -->
        <HBox alignment="CENTER_LEFT" spacing="15" styleClass="header-bar">

            <!-- Ð›Ð¾Ð³Ð¾Ñ‚Ð¸Ð¿ Ð¸ Ð¿Ñ€Ð¸Ð²ÐµÑ‚ÑÑ‚Ð²Ð¸Ðµ -->
            <HBox alignment="CENTER_LEFT" spacing="10">
                <Label style="-fx-font-size: 28px;" />
                <Label style="-fx-font-size: 20px;" styleClass="welcome-message" text="ÐŸÐ°Ð½ÐµÐ»ÑŒ Ð°Ð´Ð¼Ð¸Ð½Ð¸ÑÑ‚Ñ€Ð°Ñ‚Ð¾Ñ€Ð°" />
            </HBox>

            <!-- Ð Ð°ÑÑ‚ÑÐ³Ð¸Ð²Ð°ÑŽÑ‰Ð¸Ð¹ÑÑ Ñ€ÐµÐ³Ð¸Ð¾Ð½ -->
            <Region HBox.hgrow="ALWAYS" />

            <!-- ÐŸÐ¾Ð»Ðµ Ð¿Ð¾Ð¸ÑÐºÐ° -->
            <TextField fx:id="searchField" prefWidth="280" promptText="ðŸ” ÐŸÐ¾Ð¸ÑÐº Ð°Ð²Ñ‚Ð¾Ð¼Ð¾Ð±Ð¸Ð»ÐµÐ¹..." styleClass="search-field" />

            <!-- ÐšÐ½Ð¾Ð¿ÐºÐ¸ -->
            <Button onAction="#openProfile" style="-fx-font-size: 16px; -fx-padding: 10 15;" styleClass="btn-icon" text="ðŸ‘¤ ÐŸÑ€Ð¾Ñ„Ð¸Ð»ÑŒ" />

            <Button onAction="#openUsersManagement" style="-fx-font-size: 16px; -fx-padding: 10 15;" styleClass="btn-icon" text="ðŸ‘¥ ÐŸÐ¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ð¸" />

            <Button onAction="#openFavorites" style="-fx-font-size: 16px; -fx-padding: 10 15;" styleClass="btn-icon" text="â¤ Ð˜Ð·Ð±Ñ€Ð°Ð½Ð½Ð¾Ðµ" />

            <Button onAction="#openStatistics" style="-fx-font-size: 16px; -fx-padding: 10 15;" styleClass="btn-icon" text="ðŸ“Š Ð¡Ñ‚Ð°Ñ‚Ð¸ÑÑ‚Ð¸ÐºÐ°" />

            <Button onAction="#openOrders" style="-fx-font-size: 16px; -fx-padding: 10 15;" styleClass="btn-icon" text="ðŸ“‹ Ð—Ð°ÑÐ²ÐºÐ¸" />

            <Button onAction="#switchToTableView" style="-fx-font-size: 18px; -fx-padding: 8;" styleClass="btn-icon" text="ðŸ“‹">
                <tooltip>
                    <Tooltip text="Ð ÐµÐ¶Ð¸Ð¼ Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ñ‹" />
                </tooltip>
            </Button>

            <Button onAction="#switchToCardView" style="-fx-font-size: 18px; -fx-padding: 8;" styleClass="btn-icon" text="ðŸŽ´">
                <tooltip>
                    <Tooltip text="Ð ÐµÐ¶Ð¸Ð¼ ÐºÐ°Ñ€Ñ‚Ð¾Ñ‡ÐµÐº" />
                </tooltip>
            </Button>

            <Button onAction="#logout" style="-fx-padding: 8 15;" styleClass="btn-light" text="ðŸšª Ð’Ñ‹Ñ…Ð¾Ð´" />

        </HBox>
    </top>

    <center>
        <TableView fx:id="carTable" style="-fx-background-color: transparent;">
            <columns>
                <TableColumn fx:id="colFavorite" prefWidth="60" sortable="false" text="â¤" />
                <TableColumn fx:id="colName" prefWidth="180" text="ÐÐ°Ð·Ð²Ð°Ð½Ð¸Ðµ" />
                <TableColumn fx:id="colModel" prefWidth="150" text="ÐœÐ¾Ð´ÐµÐ»ÑŒ" />
                <TableColumn fx:id="colPrice" prefWidth="130" text="Ð¦ÐµÐ½Ð°" />
                <TableColumn fx:id="colBrand" prefWidth="130" text="Ð‘Ñ€ÐµÐ½Ð´" />
                <TableColumn fx:id="colYear" prefWidth="80" text="Ð“Ð¾Ð´" />
                <TableColumn fx:id="colMileage" prefWidth="100" text="ÐŸÑ€Ð¾Ð±ÐµÐ³" />
            </columns>
            <padding>
                <Insets bottom="20" left="20" right="20" top="20" />
            </padding>
        </TableView>
    </center>

    <bottom>
        <!-- ÐŸÐ°Ð½ÐµÐ»ÑŒ ÑƒÐ¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ñ -->
        <HBox alignment="CENTER" spacing="15" style="-fx-padding: 15; -fx-background-color: white; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.1), 10, 0, 0, -2);">

            <Button onAction="#addCar" style="-fx-padding: 10 20;" styleClass="btn-success" text="âž• Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ Ð°Ð²Ñ‚Ð¾" />

            <Button onAction="#editCar" style="-fx-padding: 10 20;" styleClass="btn-info" text="âœ Ð ÐµÐ´Ð°ÐºÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ" />

            <Button onAction="#deleteCar" style="-fx-padding: 10 20;" styleClass="btn-danger" text="ðŸ—‘ Ð£Ð´Ð°Ð»Ð¸Ñ‚ÑŒ" />

            <Separator orientation="VERTICAL" />

            <Button onAction="#exportToCSV" style="-fx-padding: 10 20;" styleClass="btn-primary" text="ðŸ’¾ Ð­ÐºÑÐ¿Ð¾Ñ€Ñ‚ Ð² CSV" />

        </HBox>
    </bottom>
</BorderPane>
