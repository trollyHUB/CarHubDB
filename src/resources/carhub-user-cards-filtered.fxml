<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<BorderPane style="-fx-background-color: #f5f5f5;" xmlns="http://javafx.com/javafx/17.0.12" xmlns:fx="http://javafx.com/fxml/1" fx:controller="controllers.CarHubController">

    <top>
        <VBox spacing="10" style="-fx-padding: 15; -fx-background-color: white; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.1), 5, 0, 0, 2);">
            <HBox alignment="CENTER_LEFT" spacing="10">
                <Label style="-fx-font-size: 22px; -fx-font-weight: bold;" text="ðŸš— ÐšÐ°Ñ‚Ð°Ð»Ð¾Ð³ Ð°Ð²Ñ‚Ð¾Ð¼Ð¾Ð±Ð¸Ð»ÐµÐ¹ CarHub" />
                <Region HBox.hgrow="ALWAYS" />
                <Button onAction="#openFavorites" style="-fx-background-color: #E91E63; -fx-text-fill: white; -fx-cursor: hand; -fx-font-size: 14px;" text="â¤ Ð˜Ð·Ð±Ñ€Ð°Ð½Ð½Ð¾Ðµ" />
                <Button onAction="#switchToTableView" style="-fx-background-color: #e0e0e0; -fx-cursor: hand;" text="ðŸ“‹ Ð¢Ð°Ð±Ð»Ð¸Ñ†Ð°" />
                <Button onAction="#switchToCardView" style="-fx-background-color: #2196F3; -fx-text-fill: white; -fx-cursor: hand;" text="ðŸŽ´ ÐšÐ°Ñ€Ñ‚Ð¾Ñ‡ÐºÐ¸" />
                <Button onAction="#logout" style="-fx-background-color: #f44336; -fx-text-fill: white; -fx-cursor: hand;" text="Ð’Ñ‹Ñ…Ð¾Ð´" />
            </HBox>
            <TextField fx:id="searchField" prefWidth="600" promptText="ðŸ” ÐŸÐ¾Ð¸ÑÐº Ð°Ð²Ñ‚Ð¾Ð¼Ð¾Ð±Ð¸Ð»Ñ..." style="-fx-font-size: 14px;" />

            <!-- ÐŸÐ°Ð½ÐµÐ»ÑŒ Ñ„Ð¸Ð»ÑŒÑ‚Ñ€Ð¾Ð² Ð¸ ÑÐ¾Ñ€Ñ‚Ð¸Ñ€Ð¾Ð²ÐºÐ¸ -->
            <VBox spacing="8" style="-fx-padding: 10; -fx-background-color: #f9f9f9; -fx-background-radius: 8;">
                <Label style="-fx-font-weight: bold; -fx-font-size: 14px;" text="ðŸ” Ð¤Ð¸Ð»ÑŒÑ‚Ñ€Ñ‹ Ð¸ ÑÐ¾Ñ€Ñ‚Ð¸Ñ€Ð¾Ð²ÐºÐ°" />

                <HBox alignment="CENTER_LEFT" spacing="15">
                    <Label text="Ð¡Ð¾Ñ€Ñ‚Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ:" />
                    <Button fx:id="sortPriceBtn" onAction="#sortByPrice" style="-fx-cursor: hand;" text="ÐŸÐ¾ Ñ†ÐµÐ½Ðµ â†‘" />
                    <Button fx:id="sortYearBtn" onAction="#sortByYear" style="-fx-cursor: hand;" text="ÐŸÐ¾ Ð³Ð¾Ð´Ñƒ â†‘" />
                    <Button fx:id="sortMileageBtn" onAction="#sortByMileage" style="-fx-cursor: hand;" text="ÐŸÐ¾ Ð¿Ñ€Ð¾Ð±ÐµÐ³Ñƒ â†‘" />
                    <Button onAction="#resetSort" style="-fx-background-color: #9E9E9E; -fx-text-fill: white; -fx-cursor: hand;" text="Ð¡Ð±Ñ€Ð¾ÑÐ¸Ñ‚ÑŒ" />

                    <Separator orientation="VERTICAL" />

                    <Label text="Ð‘Ñ€ÐµÐ½Ð´:" />
                    <ComboBox fx:id="brandFilter" onAction="#applyFilters" prefWidth="150" promptText="Ð’ÑÐµ Ð±Ñ€ÐµÐ½Ð´Ñ‹" />

                    <Separator orientation="VERTICAL" />

                    <Region HBox.hgrow="ALWAYS" />
                    <Label fx:id="countLabel" style="-fx-font-weight: bold; -fx-text-fill: #2196F3;" text="ÐÐ°Ð¹Ð´ÐµÐ½Ð¾: 0" />
                </HBox>

                <HBox alignment="CENTER_LEFT" spacing="15">
                    <Label text="Ð¦ÐµÐ½Ð° (â‚¸):" />
                    <Label text="Ð¾Ñ‚" />
                    <TextField fx:id="minPriceField" onKeyReleased="#applyFilters" prefWidth="100" promptText="0" />
                    <Label text="Ð´Ð¾" />
                    <TextField fx:id="maxPriceField" onKeyReleased="#applyFilters" prefWidth="100" promptText="âˆž" />

                    <Separator orientation="VERTICAL" />

                    <Label text="Ð“Ð¾Ð´:" />
                    <Label text="Ð¾Ñ‚" />
                    <ComboBox fx:id="minYearFilter" onAction="#applyFilters" prefWidth="90" promptText="Ð›ÑŽÐ±Ð¾Ð¹" />
                    <Label text="Ð´Ð¾" />
                    <ComboBox fx:id="maxYearFilter" onAction="#applyFilters" prefWidth="90" promptText="Ð›ÑŽÐ±Ð¾Ð¹" />

                    <Separator orientation="VERTICAL" />

                    <Button onAction="#clearFilters" style="-fx-background-color: #607D8B; -fx-text-fill: white; -fx-cursor: hand;" text="ÐžÑ‡Ð¸ÑÑ‚Ð¸Ñ‚ÑŒ Ñ„Ð¸Ð»ÑŒÑ‚Ñ€Ñ‹ ðŸ—‘" />
                </HBox>
            </VBox>
        </VBox>
    </top>

    <center>
        <ScrollPane fitToWidth="true" style="-fx-background-color: #f5f5f5; -fx-background: #f5f5f5;">
            <FlowPane fx:id="cardsContainer" alignment="TOP_LEFT" hgap="20" style="-fx-padding: 20; -fx-background-color: #f5f5f5;" vgap="20" />
        </ScrollPane>
    </center>
</BorderPane>
