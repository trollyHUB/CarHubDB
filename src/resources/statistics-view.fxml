<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<BorderPane style="-fx-background-color: #FAFAFA;" stylesheets="@styles/main.css" xmlns="http://javafx.com/javafx/17.0.12" xmlns:fx="http://javafx.com/fxml/1" fx:controller="controllers.StatisticsController">

    <top>
        <!-- Ð“Ñ€Ð°Ð´Ð¸ÐµÐ½Ñ‚Ð½Ñ‹Ð¹ Ñ…ÐµÐ´ÐµÑ€ -->
        <HBox alignment="CENTER_LEFT" spacing="15" styleClass="header-bar">

            <HBox alignment="CENTER_LEFT" spacing="10">
                <Label style="-fx-font-size: 32px;" text="ðŸ“Š" />
                <Label style="-fx-font-size: 22px;" styleClass="welcome-message" text="Ð¡Ñ‚Ð°Ñ‚Ð¸ÑÑ‚Ð¸ÐºÐ° Ð¸ Ð°Ð½Ð°Ð»Ð¸Ñ‚Ð¸ÐºÐ°" />
            </HBox>

            <Region HBox.hgrow="ALWAYS" />

            <Button onAction="#refreshStatistics" style="-fx-font-size: 15px; -fx-padding: 10 15;" styleClass="btn-icon" text="ðŸ”„ ÐžÐ±Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ" />

            <Button onAction="#backToMain" style="-fx-font-size: 15px; -fx-padding: 10 15;" styleClass="btn-icon" text="ðŸ”™ ÐÐ°Ð·Ð°Ð´" />

            <Button onAction="#logout" style="-fx-padding: 8 15;" styleClass="btn-light" text="ðŸšª Ð’Ñ‹Ñ…Ð¾Ð´" />

        </HBox>
    </top>

    <center>
        <ScrollPane fitToWidth="true" style="-fx-background-color: transparent; -fx-background: transparent;">
            <VBox spacing="25" style="-fx-padding: 25;">

                <!-- ÐžÑÐ½Ð¾Ð²Ð½Ñ‹Ðµ Ð¿Ð¾ÐºÐ°Ð·Ð°Ñ‚ÐµÐ»Ð¸ -->
                <VBox spacing="15">
                    <Label style="-fx-font-size: 20px; -fx-font-weight: bold; -fx-text-fill: #333;" text="ðŸ“ˆ ÐžÑÐ½Ð¾Ð²Ð½Ñ‹Ðµ Ð¿Ð¾ÐºÐ°Ð·Ð°Ñ‚ÐµÐ»Ð¸" />

                    <GridPane hgap="20" vgap="20">
                        <!-- ÐšÐ°Ñ€Ñ‚Ð¾Ñ‡ÐºÐ°: Ð’ÑÐµÐ³Ð¾ Ð°Ð²Ñ‚Ð¾Ð¼Ð¾Ð±Ð¸Ð»ÐµÐ¹ -->
                        <VBox alignment="CENTER" spacing="12" style="-fx-background-radius: 12; -fx-padding: 25; -fx-min-width: 200; -fx-background-color: white; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.1), 10, 0, 0, 2);" GridPane.columnIndex="0" GridPane.rowIndex="0">
                            <Label style="-fx-font-size: 48px;" text="ðŸš—" />
                            <Label style="-fx-font-size: 13px; -fx-font-weight: 600; -fx-text-fill: #444;" text="Ð’ÑÐµÐ³Ð¾ Ð°Ð²Ñ‚Ð¾Ð¼Ð¾Ð±Ð¸Ð»ÐµÐ¹" />
                            <Label fx:id="totalCarsLabel" style="-fx-font-size: 36px; -fx-font-weight: bold; -fx-text-fill: #2196F3;" text="0" />
                        </VBox>

                        <!-- ÐšÐ°Ñ€Ñ‚Ð¾Ñ‡ÐºÐ°: Ð¡Ñ€ÐµÐ´Ð½ÑÑ Ñ†ÐµÐ½Ð° -->
                        <VBox alignment="CENTER" spacing="12" style="-fx-background-radius: 12; -fx-padding: 25; -fx-min-width: 200; -fx-background-color: white; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.1), 10, 0, 0, 2);" GridPane.columnIndex="1" GridPane.rowIndex="0">
                            <Label style="-fx-font-size: 48px;" text="ðŸ’°" />
                            <Label style="-fx-font-size: 13px; -fx-font-weight: 600; -fx-text-fill: #444;" text="Ð¡Ñ€ÐµÐ´Ð½ÑÑ Ñ†ÐµÐ½Ð°" />
                            <Label fx:id="avgPriceLabel" style="-fx-font-size: 30px; -fx-font-weight: bold; -fx-text-fill: #4CAF50;" text="â‚¸ 0" />
                        </VBox>

                        <!-- ÐšÐ°Ñ€Ñ‚Ð¾Ñ‡ÐºÐ°: Ð’ÑÐµÐ³Ð¾ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÐµÐ¹ -->
                        <VBox alignment="CENTER" spacing="12" style="-fx-background-radius: 12; -fx-padding: 25; -fx-min-width: 200; -fx-background-color: white; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.1), 10, 0, 0, 2);" GridPane.columnIndex="2" GridPane.rowIndex="0">
                            <Label style="-fx-font-size: 48px;" text="ðŸ‘¥" />
                            <Label style="-fx-font-size: 13px; -fx-font-weight: 600; -fx-text-fill: #444;" text="Ð’ÑÐµÐ³Ð¾ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÐµÐ¹" />
                            <Label fx:id="totalUsersLabel" style="-fx-font-size: 36px; -fx-font-weight: bold; -fx-text-fill: #FF9800;" text="0" />
                        </VBox>

                        <!-- ÐšÐ°Ñ€Ñ‚Ð¾Ñ‡ÐºÐ°: Ð¡Ñ€ÐµÐ´Ð½Ð¸Ð¹ Ð¿Ñ€Ð¾Ð±ÐµÐ³ -->
                        <VBox alignment="CENTER" spacing="12" style="-fx-background-radius: 12; -fx-padding: 25; -fx-min-width: 200; -fx-background-color: white; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.1), 10, 0, 0, 2);" GridPane.columnIndex="3" GridPane.rowIndex="0">
                            <Label style="-fx-font-size: 48px;" text="ðŸ›£ï¸" />
                            <Label style="-fx-font-size: 13px; -fx-font-weight: 600; -fx-text-fill: #444;" text="Ð¡Ñ€ÐµÐ´Ð½Ð¸Ð¹ Ð¿Ñ€Ð¾Ð±ÐµÐ³" />
                            <Label fx:id="avgMileageLabel" style="-fx-font-size: 30px; -fx-font-weight: bold; -fx-text-fill: #9C27B0;" text="0 ÐºÐ¼" />
                        </VBox>
                  <columnConstraints>
                     <ColumnConstraints />
                     <ColumnConstraints />
                     <ColumnConstraints />
                     <ColumnConstraints />
                  </columnConstraints>
                  <rowConstraints>
                     <RowConstraints />
                  </rowConstraints>
                    </GridPane>
                </VBox>

                <!-- Ð­ÐºÑÑ‚Ñ€ÐµÐ¼ÑƒÐ¼Ñ‹ -->
                <VBox spacing="15">
                    <Label style="-fx-font-size: 20px; -fx-font-weight: bold; -fx-text-fill: #333;" text="ðŸ’Ž Ð­ÐºÑÑ‚Ñ€ÐµÐ¼ÑƒÐ¼Ñ‹" />

                    <HBox spacing="20">
                        <!-- Ð¡Ð°Ð¼Ð¾Ðµ Ð´Ð¾Ñ€Ð¾Ð³Ð¾Ðµ -->
                        <VBox spacing="12" style="-fx-background-radius: 12; -fx-padding: 25; -fx-background-color: linear-gradient(to bottom right, #fff5f5, #ffffff);" styleClass="card" HBox.hgrow="ALWAYS">
                            <HBox alignment="CENTER_LEFT" spacing="8">
                                <Label style="-fx-font-size: 24px;" text="ðŸ’Ž" />
                                <Label style="-fx-font-size: 17px; -fx-font-weight: bold; -fx-text-fill: #E91E63;" text="Ð¡Ð°Ð¼Ð¾Ðµ Ð´Ð¾Ñ€Ð¾Ð³Ð¾Ðµ Ð°Ð²Ñ‚Ð¾" />
                            </HBox>
                            <Label fx:id="mostExpensiveLabel" style="-fx-font-size: 15px; -fx-text-fill: #333;" text="â€”" wrapText="true" />
                            <Label fx:id="mostExpensivePriceLabel" style="-fx-font-size: 24px; -fx-font-weight: bold; -fx-text-fill: #E91E63;" text="â‚¸ 0" />
                        </VBox>

                        <!-- Ð¡Ð°Ð¼Ð¾Ðµ Ð´ÐµÑˆÑ‘Ð²Ð¾Ðµ -->
                        <VBox spacing="12" style="-fx-background-radius: 12; -fx-padding: 25; -fx-background-color: linear-gradient(to bottom right, #f5fff5, #ffffff);" styleClass="card" HBox.hgrow="ALWAYS">
                            <HBox alignment="CENTER_LEFT" spacing="8">
                                <Label style="-fx-font-size: 24px;" text="ðŸ’µ" />
                                <Label style="-fx-font-size: 17px; -fx-font-weight: bold; -fx-text-fill: #4CAF50;" text="Ð¡Ð°Ð¼Ð¾Ðµ Ð´ÐµÑˆÑ‘Ð²Ð¾Ðµ Ð°Ð²Ñ‚Ð¾" />
                            </HBox>
                            <Label fx:id="cheapestLabel" style="-fx-font-size: 15px; -fx-text-fill: #333;" text="â€”" wrapText="true" />
                            <Label fx:id="cheapestPriceLabel" style="-fx-font-size: 24px; -fx-font-weight: bold; -fx-text-fill: #4CAF50;" text="â‚¸ 0" />
                        </VBox>
                    </HBox>
                </VBox>

                <!-- ÐŸÐ¾Ð¿ÑƒÐ»ÑÑ€Ð½Ñ‹Ðµ Ð±Ñ€ÐµÐ½Ð´Ñ‹ -->
                <VBox spacing="15" style="-fx-background-radius: 12; -fx-padding: 25;" styleClass="card">
                    <HBox alignment="CENTER_LEFT" spacing="8">
                        <Label style="-fx-font-size: 24px;" text="ðŸ†" />
                        <Label style="-fx-font-size: 17px; -fx-font-weight: bold; -fx-text-fill: #333;" text="Ð¢Ð¾Ð¿-5 Ð¿Ð¾Ð¿ÑƒÐ»ÑÑ€Ð½Ñ‹Ñ… Ð±Ñ€ÐµÐ½Ð´Ð¾Ð²" />
                    </HBox>
                    <VBox fx:id="topBrandsContainer" spacing="12">
                        <Label style="-fx-font-size: 14px; -fx-text-fill: #999;" text="Ð—Ð°Ð³Ñ€ÑƒÐ·ÐºÐ°..." />
                    </VBox>
                </VBox>

                <!-- Ð”Ð¾Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð°Ñ ÑÑ‚Ð°Ñ‚Ð¸ÑÑ‚Ð¸ÐºÐ° -->
                <VBox spacing="15">
                    <Label style="-fx-font-size: 20px; -fx-font-weight: bold; -fx-text-fill: #333;" text="ðŸ“‹ Ð”Ð¾Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾" />

                    <GridPane hgap="20" vgap="20">
                        <!-- Ð¡Ñ‚Ñ€Ð¾ÐºÐ° 0 -->
                        <VBox alignment="CENTER_LEFT" spacing="8" style="-fx-background-radius: 12; -fx-padding: 20; -fx-min-width: 180; -fx-background-color: white; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.08), 8, 0, 0, 2);" GridPane.columnIndex="0" GridPane.rowIndex="0">
                            <Label style="-fx-font-size: 14px; -fx-font-weight: 600; -fx-text-fill: #555;" text="ðŸ‘‘ ÐÐ´Ð¼Ð¸Ð½Ð¸ÑÑ‚Ñ€Ð°Ñ‚Ð¾Ñ€Ð¾Ð²" />
                            <Label fx:id="totalAdminsLabel" style="-fx-font-size: 28px; -fx-font-weight: bold; -fx-text-fill: #FF5722;" text="0" />
                        </VBox>

                        <VBox alignment="CENTER_LEFT" spacing="8" style="-fx-background-radius: 12; -fx-padding: 20; -fx-min-width: 180; -fx-background-color: white; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.08), 8, 0, 0, 2);" GridPane.columnIndex="1" GridPane.rowIndex="0">
                            <Label style="-fx-font-size: 14px; -fx-font-weight: 600; -fx-text-fill: #555;" text="â¤ï¸ Ð’ÑÐµÐ³Ð¾ Ð¸Ð·Ð±Ñ€Ð°Ð½Ð½Ñ‹Ñ…" />
                            <Label fx:id="totalFavoritesLabel" style="-fx-font-size: 28px; -fx-font-weight: bold; -fx-text-fill: #E91E63;" text="0" />
                        </VBox>

                        <VBox alignment="CENTER_LEFT" spacing="8" style="-fx-background-radius: 12; -fx-padding: 20; -fx-min-width: 180; -fx-background-color: white; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.08), 8, 0, 0, 2);" GridPane.columnIndex="2" GridPane.rowIndex="0">
                            <Label style="-fx-font-size: 14px; -fx-font-weight: 600; -fx-text-fill: #555;" text="âœ… ÐÐºÑ‚Ð¸Ð²Ð½Ñ‹Ðµ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ð¸" />
                            <Label fx:id="totalActiveUsersLabel" style="-fx-font-size: 28px; -fx-font-weight: bold; -fx-text-fill: #4CAF50;" text="0" />
                        </VBox>

                        <VBox alignment="CENTER_LEFT" spacing="8" style="-fx-background-radius: 12; -fx-padding: 20; -fx-min-width: 180; -fx-background-color: white; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.08), 8, 0, 0, 2);" GridPane.columnIndex="3" GridPane.rowIndex="0">
                            <Label style="-fx-font-size: 14px; -fx-font-weight: 600; -fx-text-fill: #555;" text="âŒ ÐÐµÐ°ÐºÑ‚Ð¸Ð²Ð½Ñ‹Ðµ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ð¸" />
                            <Label fx:id="totalInactiveUsersLabel" style="-fx-font-size: 28px; -fx-font-weight: bold; -fx-text-fill: #999;" text="0" />
                        </VBox>

                        <!-- Ð¡Ñ‚Ñ€Ð¾ÐºÐ° 1 -->
                        <VBox alignment="CENTER_LEFT" spacing="8" style="-fx-background-radius: 12; -fx-padding: 20; -fx-min-width: 180; -fx-background-color: white; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.08), 8, 0, 0, 2);" GridPane.columnIndex="0" GridPane.rowIndex="1">
                            <Label style="-fx-font-size: 14px; -fx-font-weight: 600; -fx-text-fill: #555;" text="ðŸ“… Ð‘Ñ€Ð¾Ð½Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ð¹" />
                            <Label fx:id="totalReservationsLabel" style="-fx-font-size: 28px; -fx-font-weight: bold; -fx-text-fill: #2196F3;" text="0" />
                        </VBox>

                        <VBox alignment="CENTER_LEFT" spacing="8" style="-fx-background-radius: 12; -fx-padding: 20; -fx-min-width: 180; -fx-background-color: white; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.08), 8, 0, 0, 2);" GridPane.columnIndex="1" GridPane.rowIndex="1">
                            <Label style="-fx-font-size: 14px; -fx-font-weight: 600; -fx-text-fill: #555;" text="ðŸ›’ ÐŸÐ¾ÐºÑƒÐ¿Ð¾Ðº" />
                            <Label fx:id="totalPurchasesLabel" style="-fx-font-size: 28px; -fx-font-weight: bold; -fx-text-fill: #FF9800;" text="0" />
                        </VBox>

                        <VBox alignment="CENTER_LEFT" spacing="8" style="-fx-background-radius: 12; -fx-padding: 20; -fx-min-width: 180; -fx-background-color: white; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.08), 8, 0, 0, 2);" GridPane.columnIndex="2" GridPane.rowIndex="1">
                            <Label style="-fx-font-size: 14px; -fx-font-weight: 600; -fx-text-fill: #555;" text="ðŸ’¬ ÐšÐ¾Ð¼Ð¼ÐµÐ½Ñ‚Ð°Ñ€Ð¸ÐµÐ²" />
                            <Label fx:id="totalCommentsLabel" style="-fx-font-size: 28px; -fx-font-weight: bold; -fx-text-fill: #9C27B0;" text="0" />
                        </VBox>

                        <VBox alignment="CENTER_LEFT" spacing="8" style="-fx-background-radius: 12; -fx-padding: 20; -fx-min-width: 180; -fx-background-color: white; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.08), 8, 0, 0, 2);" GridPane.columnIndex="3" GridPane.rowIndex="1">
                            <Label style="-fx-font-size: 14px; -fx-font-weight: 600; -fx-text-fill: #555;" text="â­ ÐžÑ†ÐµÐ½Ð¾Ðº" />
                            <Label fx:id="totalRatingsLabel" style="-fx-font-size: 28px; -fx-font-weight: bold; -fx-text-fill: #FFC107;" text="0" />
                        </VBox>

                  <columnConstraints>
                     <ColumnConstraints />
                     <ColumnConstraints />
                     <ColumnConstraints />
                     <ColumnConstraints />
                  </columnConstraints>
                  <rowConstraints>
                     <RowConstraints />
                     <RowConstraints />
                  </rowConstraints>
                    </GridPane>
                </VBox>

            </VBox>
        </ScrollPane>
    </center>
</BorderPane>
