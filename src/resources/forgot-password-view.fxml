<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<BorderPane style="-fx-background: linear-gradient(to bottom right, #667eea 0%, #764ba2 100%);" stylesheets="@styles/main.css" xmlns="http://javafx.com/javafx/17.0.12" xmlns:fx="http://javafx.com/fxml/1" fx:controller="controllers.ForgotPasswordController">

    <center>
        <VBox alignment="CENTER" maxWidth="450" spacing="25" style="-fx-background-color: white; -fx-background-radius: 20; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.2), 20, 0, 0, 10); -fx-padding: 50;">

            <!-- Ð˜ÐºÐ¾Ð½ÐºÐ° -->
            <Label style="-fx-font-size: 64px;" text="ðŸ”" />

            <!-- Ð—Ð°Ð³Ð¾Ð»Ð¾Ð²Ð¾Ðº -->
            <VBox alignment="CENTER" spacing="8">
                <Label style="-fx-font-size: 28px; -fx-font-weight: bold; -fx-text-fill: #333;" text="Ð’Ð¾ÑÑÑ‚Ð°Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ðµ Ð¿Ð°Ñ€Ð¾Ð»Ñ" />
                <Label style="-fx-font-size: 14px; -fx-text-fill: #666; -fx-wrap-text: true; -fx-text-alignment: center;" text="Ð’Ð²ÐµÐ´Ð¸Ñ‚Ðµ Ð²Ð°Ñˆ Ð»Ð¾Ð³Ð¸Ð½ Ð´Ð»Ñ ÑÐ±Ñ€Ð¾ÑÐ° Ð¿Ð°Ñ€Ð¾Ð»Ñ" />
            </VBox>

            <!-- ÐŸÐ¾Ð»Ðµ Ð»Ð¾Ð³Ð¸Ð½Ð° -->
            <VBox spacing="8">
                <Label style="-fx-font-size: 13px; -fx-text-fill: #555; -fx-font-weight: 600;" text="Ð›Ð¾Ð³Ð¸Ð½:" />
                <TextField fx:id="usernameField" promptText="Ð’Ð²ÐµÐ´Ð¸Ñ‚Ðµ Ð²Ð°Ñˆ Ð»Ð¾Ð³Ð¸Ð½" style="-fx-font-size: 14px; -fx-padding: 12px; -fx-border-color: #ddd; -fx-border-radius: 8; -fx-background-radius: 8; -fx-border-width: 2;" />
            </VBox>

            <!-- Ð¡Ð¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ðµ -->
            <Label fx:id="messageLabel" style="-fx-font-size: 14px; -fx-wrap-text: true; -fx-text-alignment: center; -fx-padding: 10;" wrapText="true" />

            <!-- Ð’Ñ€ÐµÐ¼ÐµÐ½Ð½Ñ‹Ð¹ Ð¿Ð°Ñ€Ð¾Ð»ÑŒ (ÑÐºÑ€Ñ‹Ñ‚ Ð¿Ð¾ ÑƒÐ¼Ð¾Ð»Ñ‡Ð°Ð½Ð¸ÑŽ) -->
            <VBox fx:id="tempPasswordBox" managed="false" spacing="10" style="-fx-background-color: #FFF3CD; -fx-border-color: #FFC107; -fx-border-width: 2; -fx-border-radius: 8; -fx-background-radius: 8; -fx-padding: 15;" visible="false">

                <Label style="-fx-font-size: 14px; -fx-font-weight: 600; -fx-text-fill: #856404;" text="ðŸ”‘ Ð’Ð°Ñˆ Ð½Ð¾Ð²Ñ‹Ð¹ Ð²Ñ€ÐµÐ¼ÐµÐ½Ð½Ñ‹Ð¹ Ð¿Ð°Ñ€Ð¾Ð»ÑŒ:" />

                <HBox alignment="CENTER" spacing="10">
                    <TextField fx:id="tempPasswordField" editable="false" style="-fx-font-size: 16px; -fx-font-weight: bold; -fx-padding: 10; -fx-background-color: white; -fx-border-color: #FFC107; -fx-border-width: 2; -fx-border-radius: 5; -fx-background-radius: 5;" HBox.hgrow="ALWAYS" />

                    <Button fx:id="copyButton" onAction="#copyPassword" style="-fx-background-color: #FFC107; -fx-text-fill: white; -fx-font-size: 16px; -fx-padding: 10 15; -fx-border-radius: 5; -fx-background-radius: 5; -fx-cursor: hand;" text="ðŸ“‹" />
                </HBox>

                <Label style="-fx-font-size: 12px; -fx-text-fill: #856404; -fx-wrap-text: true;" text="âš ï¸ Ð—Ð°Ð¿Ð¸ÑˆÐ¸Ñ‚Ðµ ÑÑ‚Ð¾Ñ‚ Ð¿Ð°Ñ€Ð¾Ð»ÑŒ! Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐ¹Ñ‚Ðµ ÐµÐ³Ð¾ Ð´Ð»Ñ Ð²Ñ…Ð¾Ð´Ð°." wrapText="true" />
            </VBox>

            <!-- ÐšÐ½Ð¾Ð¿ÐºÐ¸ -->
            <VBox spacing="12">
                <!-- ÐšÐ½Ð¾Ð¿ÐºÐ° Ð²Ð¾ÑÑÑ‚Ð°Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ñ -->
                <Button fx:id="resetButton" defaultButton="true" maxWidth="Infinity" onAction="#onResetPassword" style="-fx-background-color: linear-gradient(to right, #667eea, #764ba2); -fx-text-fill: white; -fx-font-size: 16px; -fx-font-weight: 600; -fx-padding: 14px; -fx-background-radius: 10; -fx-cursor: hand; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.2), 8, 0, 0, 4);" text="ðŸ”„ Ð¡Ð±Ñ€Ð¾ÑÐ¸Ñ‚ÑŒ Ð¿Ð°Ñ€Ð¾Ð»ÑŒ" />

                <!-- ÐšÐ½Ð¾Ð¿ÐºÐ° Ð²Ñ…Ð¾Ð´Ð° (ÑÐºÑ€Ñ‹Ñ‚Ð° Ð¿Ð¾ ÑƒÐ¼Ð¾Ð»Ñ‡Ð°Ð½Ð¸ÑŽ) -->
                <Button fx:id="loginButton" managed="false" maxWidth="Infinity" onAction="#goToLogin" style="-fx-background-color: #4CAF50; -fx-text-fill: white; -fx-font-size: 16px; -fx-font-weight: 600; -fx-padding: 14px; -fx-background-radius: 10; -fx-cursor: hand;" text="âœ… Ð’Ð¾Ð¹Ñ‚Ð¸ Ñ Ð½Ð¾Ð²Ñ‹Ð¼ Ð¿Ð°Ñ€Ð¾Ð»ÐµÐ¼" visible="false" />

                <!-- ÐšÐ½Ð¾Ð¿ÐºÐ° Ð½Ð°Ð·Ð°Ð´ -->
                <Button maxWidth="Infinity" onAction="#backToLogin" style="-fx-background-color: transparent; -fx-text-fill: #667eea; -fx-font-size: 14px; -fx-padding: 10; -fx-cursor: hand; -fx-border-color: #667eea; -fx-border-width: 2; -fx-border-radius: 8; -fx-background-radius: 8;" text="ðŸ”™ Ð’ÐµÑ€Ð½ÑƒÑ‚ÑŒÑÑ ÐºÐ¾ Ð²Ñ…Ð¾Ð´Ñƒ" />
            </VBox>

            <!-- ÐŸÐ¾Ð´ÑÐºÐ°Ð·ÐºÐ° -->
            <VBox spacing="8" style="-fx-padding: 10;">
                <Label style="-fx-font-size: 12px; -fx-font-weight: 600; -fx-text-fill: #555;" text="ðŸ’¡ ÐŸÐ¾Ð´ÑÐºÐ°Ð·ÐºÐ°:" />
                <Label style="-fx-font-size: 11px; -fx-text-fill: #666; -fx-wrap-text: true;" text="ÐŸÐ¾ÑÐ»Ðµ Ð²Ð¾ÑÑÑ‚Ð°Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ñ Ð¿Ð°Ñ€Ð¾Ð»Ñ Ð²Ð¾Ð¹Ð´Ð¸Ñ‚Ðµ Ð² ÑÐ¸ÑÑ‚ÐµÐ¼Ñƒ Ð¸ ÑÐ¼ÐµÐ½Ð¸Ñ‚Ðµ ÐµÐ³Ð¾ Ð½Ð° ÑÐ²Ð¾Ð¹ Ð² Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ°Ñ… Ð¿Ñ€Ð¾Ñ„Ð¸Ð»Ñ." wrapText="true" />
            </VBox>

        </VBox>
    </center>

</BorderPane>
