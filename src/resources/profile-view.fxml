<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.*?>
<?import javafx.scene.control.*?>
<?import javafx.scene.image.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.shape.*?>

<BorderPane style="-fx-background-color: #FAFAFA;" stylesheets="@styles/main.css" xmlns="http://javafx.com/javafx/17.0.12" xmlns:fx="http://javafx.com/fxml/1" fx:controller="controllers.ProfileController">

    <top>
        <!-- Ð“Ñ€Ð°Ð´Ð¸ÐµÐ½Ñ‚Ð½Ñ‹Ð¹ Ñ…ÐµÐ´ÐµÑ€ -->
        <HBox alignment="CENTER_LEFT" spacing="15" styleClass="header-bar">

            <HBox alignment="CENTER_LEFT" spacing="10">
                <Label style="-fx-font-size: 32px;" text="ðŸ‘¤" />
                <Label style="-fx-font-size: 22px;" styleClass="welcome-message" text="Ð›Ð¸Ñ‡Ð½Ñ‹Ð¹ ÐºÐ°Ð±Ð¸Ð½ÐµÑ‚" />
            </HBox>

            <Region HBox.hgrow="ALWAYS" />

            <Button onAction="#backToMain" style="-fx-font-size: 15px; -fx-padding: 10 15;" styleClass="btn-icon" text="ðŸ”™ ÐÐ°Ð·Ð°Ð´" />

            <Button onAction="#logout" style="-fx-padding: 8 15;" styleClass="btn-light" text="ðŸšª Ð’Ñ‹Ñ…Ð¾Ð´" />

        </HBox>
    </top>

    <center>
        <ScrollPane fitToWidth="true" style="-fx-background-color: transparent;">
            <VBox spacing="25" style="-fx-padding: 30;">

                <!-- ÐšÐ°Ñ€Ñ‚Ð¾Ñ‡ÐºÐ° Ð¿Ñ€Ð¾Ñ„Ð¸Ð»Ñ -->
                <VBox spacing="20" style="-fx-background-radius: 15; -fx-padding: 30; -fx-alignment: center;" styleClass="card">

                    <!-- ÐÐ²Ð°Ñ‚Ð°Ñ€ -->
                    <StackPane>
                        <!-- ÐšÑ€ÑƒÐ³Ð»Ñ‹Ð¹ Ð°Ð²Ð°Ñ‚Ð°Ñ€ -->
                        <StackPane style="-fx-effect: dropshadow(gaussian, rgba(0,0,0,0.3), 15, 0, 0, 5);">
                            <Circle fill="WHITE" radius="80" />
                            <Circle fx:id="avatarClip" radius="75" />
                            <ImageView fx:id="avatarImage" fitHeight="150" fitWidth="150" preserveRatio="false">
                                <clip>
                                    <Circle centerX="75" centerY="75" radius="75" />
                                </clip>
                            </ImageView>
                        </StackPane>

                        <!-- ÐšÐ½Ð¾Ð¿ÐºÐ° Ð·Ð°Ð³Ñ€ÑƒÐ·ÐºÐ¸ Ð°Ð²Ð°Ñ‚Ð°Ñ€Ð° -->
                        <Button fx:id="uploadAvatarBtn" onAction="#uploadAvatar" style="-fx-background-color: #667eea; -fx-text-fill: white; -fx-font-size: 20px; -fx-padding: 10; -fx-background-radius: 50; -fx-cursor: hand; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.3), 10, 0, 0, 3);" text="ðŸ“·" StackPane.alignment="BOTTOM_RIGHT">
                            <StackPane.margin>
                                <Insets left="90" />
                            </StackPane.margin>
                        </Button>
                    </StackPane>

                    <!-- Ð˜Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸Ñ -->
                    <VBox alignment="CENTER" spacing="8">
                        <Label fx:id="usernameLabel" style="-fx-font-size: 24px; -fx-font-weight: bold; -fx-text-fill: #333;" text="ÐŸÐ¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒ" />
                        <Label fx:id="fullnameLabel" style="-fx-font-size: 16px; -fx-text-fill: #666;" text="Ð˜Ð¼Ñ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ñ" />
                        <HBox alignment="CENTER" spacing="10">
                            <Label fx:id="roleLabel" style="-fx-background-color: #E3F2FD; -fx-text-fill: #2196F3; -fx-padding: 5 15; -fx-background-radius: 15; -fx-font-size: 12px; -fx-font-weight: 600;" text="ðŸ‘¤ ÐŸÐ¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒ" />
                            <Label fx:id="statusLabel" style="-fx-background-color: #E8F5E9; -fx-text-fill: #4CAF50; -fx-padding: 5 15; -fx-background-radius: 15; -fx-font-size: 12px; -fx-font-weight: 600;" text="âœ… ÐÐºÑ‚Ð¸Ð²ÐµÐ½" />
                        </HBox>
                    </VBox>

                </VBox>

                <!-- Ð”Ð²Ðµ ÐºÐ¾Ð»Ð¾Ð½ÐºÐ¸: Ð ÐµÐ´Ð°ÐºÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ + Ð¡Ð¼ÐµÐ½Ð° Ð¿Ð°Ñ€Ð¾Ð»Ñ -->
                <HBox spacing="25">

                    <!-- Ð›ÐµÐ²Ð°Ñ ÐºÐ¾Ð»Ð¾Ð½ÐºÐ°: Ð ÐµÐ´Ð°ÐºÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð¿Ñ€Ð¾Ñ„Ð¸Ð»Ñ -->
                    <VBox spacing="20" style="-fx-background-radius: 12; -fx-padding: 25;" styleClass="card" HBox.hgrow="ALWAYS">

                        <Label style="-fx-font-size: 18px; -fx-font-weight: bold; -fx-text-fill: #333;" text="âœ Ð ÐµÐ´Ð°ÐºÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð¿Ñ€Ð¾Ñ„Ð¸Ð»Ñ" />

                        <Separator />

                        <!-- ÐŸÐ¾Ð»Ðµ Ð¸Ð¼ÐµÐ½Ð¸ -->
                        <VBox spacing="8">
                            <Label style="-fx-font-size: 13px; -fx-text-fill: #555; -fx-font-weight: 600;" text="Ð˜Ð¼Ñ:" />
                            <TextField fx:id="fullnameField" promptText="Ð’Ð²ÐµÐ´Ð¸Ñ‚Ðµ Ð²Ð°ÑˆÐµ Ð¸Ð¼Ñ" style="-fx-font-size: 14px; -fx-padding: 12px;" />
                        </VBox>

                        <!-- Ð›Ð¾Ð³Ð¸Ð½ -->
                        <VBox spacing="8">
                            <Label style="-fx-font-size: 13px; -fx-text-fill: #555; -fx-font-weight: 600;" text="Ð›Ð¾Ð³Ð¸Ð½:" />
                            <TextField fx:id="usernameField" promptText="Ð’Ð²ÐµÐ´Ð¸Ñ‚Ðµ Ð»Ð¾Ð³Ð¸Ð½" style="-fx-font-size: 14px; -fx-padding: 12px;" />
                        </VBox>

                        <!-- ÐšÐ½Ð¾Ð¿ÐºÐ° ÑÐ¾Ñ…Ñ€Ð°Ð½ÐµÐ½Ð¸Ñ -->
                        <Button maxWidth="Infinity" onAction="#saveProfile" style="-fx-font-size: 15px; -fx-padding: 12px;" styleClass="btn-success" text="ðŸ’¾ Ð¡Ð¾Ñ…Ñ€Ð°Ð½Ð¸Ñ‚ÑŒ Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ñ" />

                        <!-- Ð¡Ð¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ðµ -->
                        <Label fx:id="profileMessageLabel" style="-fx-font-size: 13px;" wrapText="true" />

                    </VBox>

                    <!-- ÐŸÑ€Ð°Ð²Ð°Ñ ÐºÐ¾Ð»Ð¾Ð½ÐºÐ°: Ð¡Ð¼ÐµÐ½Ð° Ð¿Ð°Ñ€Ð¾Ð»Ñ -->
                    <VBox spacing="20" style="-fx-background-radius: 12; -fx-padding: 25;" styleClass="card" HBox.hgrow="ALWAYS">

                        <Label style="-fx-font-size: 18px; -fx-font-weight: bold; -fx-text-fill: #333;" text="ðŸ”‘ Ð¡Ð¼ÐµÐ½Ð° Ð¿Ð°Ñ€Ð¾Ð»Ñ" />

                        <Separator />

                        <!-- Ð¢ÐµÐºÑƒÑ‰Ð¸Ð¹ Ð¿Ð°Ñ€Ð¾Ð»ÑŒ -->
                        <VBox spacing="8">
                            <Label style="-fx-font-size: 13px; -fx-text-fill: #555; -fx-font-weight: 600;" text="Ð¢ÐµÐºÑƒÑ‰Ð¸Ð¹ Ð¿Ð°Ñ€Ð¾Ð»ÑŒ:" />
                            <PasswordField fx:id="currentPasswordField" promptText="Ð’Ð²ÐµÐ´Ð¸Ñ‚Ðµ Ñ‚ÐµÐºÑƒÑ‰Ð¸Ð¹ Ð¿Ð°Ñ€Ð¾Ð»ÑŒ" style="-fx-font-size: 14px; -fx-padding: 12px;" />
                        </VBox>

                        <!-- ÐÐ¾Ð²Ñ‹Ð¹ Ð¿Ð°Ñ€Ð¾Ð»ÑŒ -->
                        <VBox spacing="8">
                            <Label style="-fx-font-size: 13px; -fx-text-fill: #555; -fx-font-weight: 600;" text="ÐÐ¾Ð²Ñ‹Ð¹ Ð¿Ð°Ñ€Ð¾Ð»ÑŒ:" />
                            <PasswordField fx:id="newPasswordField" promptText="Ð’Ð²ÐµÐ´Ð¸Ñ‚Ðµ Ð½Ð¾Ð²Ñ‹Ð¹ Ð¿Ð°Ñ€Ð¾Ð»ÑŒ" style="-fx-font-size: 14px; -fx-padding: 12px;" />
                            <Label style="-fx-font-size: 11px; -fx-text-fill: #999;" text="ðŸ’¡ ÐœÐ¸Ð½Ð¸Ð¼ÑƒÐ¼ 6 ÑÐ¸Ð¼Ð²Ð¾Ð»Ð¾Ð²" />
                        </VBox>

                        <!-- ÐŸÐ¾Ð´Ñ‚Ð²ÐµÑ€Ð¶Ð´ÐµÐ½Ð¸Ðµ Ð¿Ð°Ñ€Ð¾Ð»Ñ -->
                        <VBox spacing="8">
                            <Label style="-fx-font-size: 13px; -fx-text-fill: #555; -fx-font-weight: 600;" text="ÐŸÐ¾Ð´Ñ‚Ð²ÐµÑ€Ð´Ð¸Ñ‚Ðµ Ð¿Ð°Ñ€Ð¾Ð»ÑŒ:" />
                            <PasswordField fx:id="confirmPasswordField" promptText="ÐŸÐ¾Ð²Ñ‚Ð¾Ñ€Ð¸Ñ‚Ðµ Ð½Ð¾Ð²Ñ‹Ð¹ Ð¿Ð°Ñ€Ð¾Ð»ÑŒ" style="-fx-font-size: 14px; -fx-padding: 12px;" />
                        </VBox>

                        <!-- ÐšÐ½Ð¾Ð¿ÐºÐ° ÑÐ¼ÐµÐ½Ñ‹ Ð¿Ð°Ñ€Ð¾Ð»Ñ -->
                        <Button maxWidth="Infinity" onAction="#changePassword" style="-fx-font-size: 15px; -fx-padding: 12px;" styleClass="btn-primary" text="ðŸ” Ð˜Ð·Ð¼ÐµÐ½Ð¸Ñ‚ÑŒ Ð¿Ð°Ñ€Ð¾Ð»ÑŒ" />

                        <!-- Ð¡Ð¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ðµ -->
                        <Label fx:id="passwordMessageLabel" style="-fx-font-size: 13px;" wrapText="true" />

                    </VBox>

                </HBox>

                <!-- Ð¡Ñ‚Ð°Ñ‚Ð¸ÑÑ‚Ð¸ÐºÐ° Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ñ -->
                <VBox spacing="15" style="-fx-background-radius: 12; -fx-padding: 25;" styleClass="card">

                    <Label style="-fx-font-size: 18px; -fx-font-weight: bold; -fx-text-fill: #333;" text="ðŸ“Š ÐœÐ¾Ñ ÑÑ‚Ð°Ñ‚Ð¸ÑÑ‚Ð¸ÐºÐ°" />

                    <Separator />

                    <HBox alignment="CENTER" spacing="20">

                        <VBox alignment="CENTER" spacing="5" style="-fx-padding: 15; -fx-background-color: #E3F2FD; -fx-background-radius: 10;" HBox.hgrow="ALWAYS">
                            <Label style="-fx-font-size: 32px;" text="â¤" />
                            <Label fx:id="favoritesCountLabel" style="-fx-font-size: 24px; -fx-font-weight: bold; -fx-text-fill: #2196F3;" text="0" />
                            <Label style="-fx-font-size: 12px; -fx-text-fill: #666;" text="Ð˜Ð·Ð±Ñ€Ð°Ð½Ð½Ñ‹Ñ…" />
                        </VBox>

                        <VBox alignment="CENTER" spacing="5" style="-fx-padding: 15; -fx-background-color: #FFF3E0; -fx-background-radius: 10;" HBox.hgrow="ALWAYS">
                            <Label style="-fx-font-size: 32px;" text="ðŸ’¬" />
                            <Label fx:id="commentsCountLabel" style="-fx-font-size: 24px; -fx-font-weight: bold; -fx-text-fill: #FF9800;" text="0" />
                            <Label style="-fx-font-size: 12px; -fx-text-fill: #666;" text="ÐšÐ¾Ð¼Ð¼ÐµÐ½Ñ‚Ð°Ñ€Ð¸ÐµÐ²" />
                        </VBox>

                        <VBox alignment="CENTER" spacing="5" style="-fx-padding: 15; -fx-background-color: #E8F5E9; -fx-background-radius: 10;" HBox.hgrow="ALWAYS">
                            <Label style="-fx-font-size: 32px;" text="ðŸ“…" />
                            <Label fx:id="reservationsCountLabel" style="-fx-font-size: 24px; -fx-font-weight: bold; -fx-text-fill: #4CAF50;" text="0" />
                            <Label style="-fx-font-size: 12px; -fx-text-fill: #666;" text="Ð‘Ñ€Ð¾Ð½Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ð¹" />
                        </VBox>

                    </HBox>

                </VBox>

            </VBox>
        </ScrollPane>
    </center>

</BorderPane>
